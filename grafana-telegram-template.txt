{{ range .Alerts }}
{{ if eq .Status "firing" }}
{{ if eq .Labels.alertname "CPU Usage" }}
ğŸ”´ *FIRING: CPU ALERT* ğŸ”´

ğŸš¨ *HIGH CPU USAGE DETECTED* ğŸš¨

*Instance:* {{ .Labels.instance }}
*Severity:* {{ .Labels.severity | toUpper }}
*CPU Usage:* {{ printf "%.2f" .Values.A }}%

â° *Started:* {{ .StartsAt.Format "2006-01-02 15:04:05" }}

âš ï¸ *Action Required:*
- Check running processes
- Review system load
- Investigate potential resource contention

{{ if .CommonAnnotations.image_url }}ğŸ“Š [Dashboard Image]({{ .CommonAnnotations.image_url }}){{ end }}

#alert #cpu #{{ .Labels.severity }}
{{ else if eq .Labels.alertname "Memory Usage" }}
ğŸ”´ *FIRING: MEMORY ALERT* ğŸ”´

ğŸš¨ *HIGH MEMORY USAGE DETECTED* ğŸš¨

*Instance:* {{ .Labels.instance }}
*Severity:* {{ .Labels.severity | toUpper }}
*Memory Usage:* {{ printf "%.2f" .Values.A }}%

â° *Started:* {{ .StartsAt.Format "2006-01-02 15:04:05" }}

âš ï¸ *Action Required:*
- Check memory-intensive processes
- Review application memory leaks
- Consider increasing swap space

{{ if .CommonAnnotations.image_url }}ğŸ“Š [Dashboard Image]({{ .CommonAnnotations.image_url }}){{ end }}

#alert #memory #{{ .Labels.severity }}
{{ else if eq .Labels.alertname "Disk Usage" }}
ğŸ”´ *FIRING: DISK ALERT* ğŸ”´

ğŸš¨ *HIGH DISK USAGE DETECTED* ğŸš¨

*Instance:* {{ .Labels.instance }}
*Severity:* {{ .Labels.severity | toUpper }}
*Disk Usage:* {{ printf "%.2f" .Values.A }}%
*Mount Point:* {{ .Labels.mountpoint | default "/" }}

â° *Started:* {{ .StartsAt.Format "2006-01-02 15:04:05" }}

âš ï¸ *Action Required:*
- Check large files and directories
- Clean up temporary files and logs
- Consider expanding disk space

{{ if .CommonAnnotations.image_url }}ğŸ“Š [Dashboard Image]({{ .CommonAnnotations.image_url }}){{ end }}

#alert #disk #{{ .Labels.severity }}
{{ end }}
{{ else }}
{{ if eq .Labels.alertname "CPU Usage" }}
âœ… *RESOLVED: CPU ALERT* âœ…

*CPU USAGE BACK TO NORMAL*

*Instance:* {{ .Labels.instance }}
*Severity:* {{ .Labels.severity | toUpper }}

âœ… *Resolved:* {{ .EndsAt.Format "2006-01-02 15:04:05" }}

#alert #cpu #{{ .Labels.severity }}
{{ else if eq .Labels.alertname "Memory Usage" }}
âœ… *RESOLVED: MEMORY ALERT* âœ…

*MEMORY USAGE BACK TO NORMAL*

*Instance:* {{ .Labels.instance }}
*Severity:* {{ .Labels.severity | toUpper }}

âœ… *Resolved:* {{ .EndsAt.Format "2006-01-02 15:04:05" }}

#alert #memory #{{ .Labels.severity }}
{{ else if eq .Labels.alertname "Disk Usage" }}
âœ… *RESOLVED: DISK ALERT* âœ…

*DISK USAGE BACK TO NORMAL*

*Instance:* {{ .Labels.instance }}
*Severity:* {{ .Labels.severity | toUpper }}
*Mount Point:* {{ .Labels.mountpoint | default "/" }}

âœ… *Resolved:* {{ .EndsAt.Format "2006-01-02 15:04:05" }}

#alert #disk #{{ .Labels.severity }}
{{ end }}
{{ end }}
{{ end }}